{"ast":null,"code":"const DEFAULT_OPTIONS = {\n  channelCount: 2,\n  channelCountMode: 'max',\n  channelInterpretation: 'speakers',\n  fftSize: 2048,\n  maxDecibels: -30,\n  minDecibels: -100,\n  smoothingTimeConstant: 0.8\n};\nexport const createAnalyserNodeConstructor = (audionNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext) => {\n  return class AnalyserNode extends audionNodeConstructor {\n    constructor(context, options) {\n      const nativeContext = getNativeContext(context);\n      const mergedOptions = { ...DEFAULT_OPTIONS,\n        ...options\n      };\n      const nativeAnalyserNode = createNativeAnalyserNode(nativeContext, mergedOptions);\n      const analyserNodeRenderer = isNativeOfflineAudioContext(nativeContext) ? createAnalyserNodeRenderer() : null;\n      super(context, false, nativeAnalyserNode, analyserNodeRenderer);\n      this._nativeAnalyserNode = nativeAnalyserNode;\n    }\n\n    get fftSize() {\n      return this._nativeAnalyserNode.fftSize;\n    }\n\n    set fftSize(value) {\n      this._nativeAnalyserNode.fftSize = value;\n    }\n\n    get frequencyBinCount() {\n      return this._nativeAnalyserNode.frequencyBinCount;\n    }\n\n    get maxDecibels() {\n      return this._nativeAnalyserNode.maxDecibels;\n    }\n\n    set maxDecibels(value) {\n      // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n      const maxDecibels = this._nativeAnalyserNode.maxDecibels;\n      this._nativeAnalyserNode.maxDecibels = value;\n\n      if (!(value > this._nativeAnalyserNode.minDecibels)) {\n        this._nativeAnalyserNode.maxDecibels = maxDecibels;\n        throw createIndexSizeError();\n      }\n    }\n\n    get minDecibels() {\n      return this._nativeAnalyserNode.minDecibels;\n    }\n\n    set minDecibels(value) {\n      // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n      const minDecibels = this._nativeAnalyserNode.minDecibels;\n      this._nativeAnalyserNode.minDecibels = value;\n\n      if (!(this._nativeAnalyserNode.maxDecibels > value)) {\n        this._nativeAnalyserNode.minDecibels = minDecibels;\n        throw createIndexSizeError();\n      }\n    }\n\n    get smoothingTimeConstant() {\n      return this._nativeAnalyserNode.smoothingTimeConstant;\n    }\n\n    set smoothingTimeConstant(value) {\n      this._nativeAnalyserNode.smoothingTimeConstant = value;\n    }\n\n    getByteFrequencyData(array) {\n      this._nativeAnalyserNode.getByteFrequencyData(array);\n    }\n\n    getByteTimeDomainData(array) {\n      this._nativeAnalyserNode.getByteTimeDomainData(array);\n    }\n\n    getFloatFrequencyData(array) {\n      this._nativeAnalyserNode.getFloatFrequencyData(array);\n    }\n\n    getFloatTimeDomainData(array) {\n      this._nativeAnalyserNode.getFloatTimeDomainData(array);\n    }\n\n  };\n};","map":{"version":3,"sources":["../../../src/factories/analyser-node-constructor.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["const DEFAULT_OPTIONS = {\n    channelCount: 2,\n    channelCountMode: 'max',\n    channelInterpretation: 'speakers',\n    fftSize: 2048,\n    maxDecibels: -30,\n    minDecibels: -100,\n    smoothingTimeConstant: 0.8\n};\nexport const createAnalyserNodeConstructor = (audionNodeConstructor, createAnalyserNodeRenderer, createIndexSizeError, createNativeAnalyserNode, getNativeContext, isNativeOfflineAudioContext) => {\n    return class AnalyserNode extends audionNodeConstructor {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n            const nativeAnalyserNode = createNativeAnalyserNode(nativeContext, mergedOptions);\n            const analyserNodeRenderer = ((isNativeOfflineAudioContext(nativeContext) ? createAnalyserNodeRenderer() : null));\n            super(context, false, nativeAnalyserNode, analyserNodeRenderer);\n            this._nativeAnalyserNode = nativeAnalyserNode;\n        }\n        get fftSize() {\n            return this._nativeAnalyserNode.fftSize;\n        }\n        set fftSize(value) {\n            this._nativeAnalyserNode.fftSize = value;\n        }\n        get frequencyBinCount() {\n            return this._nativeAnalyserNode.frequencyBinCount;\n        }\n        get maxDecibels() {\n            return this._nativeAnalyserNode.maxDecibels;\n        }\n        set maxDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const maxDecibels = this._nativeAnalyserNode.maxDecibels;\n            this._nativeAnalyserNode.maxDecibels = value;\n            if (!(value > this._nativeAnalyserNode.minDecibels)) {\n                this._nativeAnalyserNode.maxDecibels = maxDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get minDecibels() {\n            return this._nativeAnalyserNode.minDecibels;\n        }\n        set minDecibels(value) {\n            // Bug #118: Safari does not throw an error if maxDecibels is not more than minDecibels.\n            const minDecibels = this._nativeAnalyserNode.minDecibels;\n            this._nativeAnalyserNode.minDecibels = value;\n            if (!(this._nativeAnalyserNode.maxDecibels > value)) {\n                this._nativeAnalyserNode.minDecibels = minDecibels;\n                throw createIndexSizeError();\n            }\n        }\n        get smoothingTimeConstant() {\n            return this._nativeAnalyserNode.smoothingTimeConstant;\n        }\n        set smoothingTimeConstant(value) {\n            this._nativeAnalyserNode.smoothingTimeConstant = value;\n        }\n        getByteFrequencyData(array) {\n            this._nativeAnalyserNode.getByteFrequencyData(array);\n        }\n        getByteTimeDomainData(array) {\n            this._nativeAnalyserNode.getByteTimeDomainData(array);\n        }\n        getFloatFrequencyData(array) {\n            this._nativeAnalyserNode.getFloatFrequencyData(array);\n        }\n        getFloatTimeDomainData(array) {\n            this._nativeAnalyserNode.getFloatTimeDomainData(array);\n        }\n    };\n};\n//# sourceMappingURL=analyser-node-constructor.js.map"]},"metadata":{},"sourceType":"module"}
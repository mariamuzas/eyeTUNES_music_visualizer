{"ast":null,"code":"const DEFAULT_OPTIONS = {\n  disableNormalization: false\n};\nexport const createPeriodicWaveConstructor = (createNativePeriodicWave, getNativeContext, periodicWaveStore, sanitizePeriodicWaveOptions) => {\n  return class PeriodicWave {\n    constructor(context, options) {\n      const nativeContext = getNativeContext(context);\n      const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS,\n        ...options\n      });\n      const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n      periodicWaveStore.add(periodicWave); // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n\n      return periodicWave;\n    }\n\n    static [Symbol.hasInstance](instance) {\n      return instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype || periodicWaveStore.has(instance);\n    }\n\n  };\n};","map":{"version":3,"sources":["../../../src/factories/periodic-wave-constructor.ts"],"names":[],"mappings":"AAGA,MAAM,eAAe,GAAG;AACpB,EAAA,oBAAoB,EAAE;AADF,CAAxB;AAIA,OAAO,MAAM,6BAA6B,GAAoC,CAC1E,wBAD0E,EAE1E,gBAF0E,EAG1E,iBAH0E,EAI1E,2BAJ0E,KAK1E;AACA,SAAO,MAAM,YAAN,CAAkB;AACrB,IAAA,WAAA,CAAY,OAAZ,EAAwB,OAAxB,EAA+D;AAC3D,YAAM,aAAa,GAAG,gBAAgB,CAAC,OAAD,CAAtC;AACA,YAAM,aAAa,GAAG,2BAA2B,CAAC,EAAE,GAAG,eAAL;AAAsB,WAAG;AAAzB,OAAD,CAAjD;AACA,YAAM,YAAY,GAAG,wBAAwB,CAAC,aAAD,EAAgB,aAAhB,CAA7C;AAEA,MAAA,iBAAiB,CAAC,GAAlB,CAAsB,YAAtB,EAL2D,CAO3D;;AACA,aAAO,YAAP;AACH;;AAEM,YAAQ,MAAM,CAAC,WAAf,EAA4B,QAA5B,EAA6C;AAChD,aACK,QAAQ,KAAK,IAAb,IAAqB,OAAO,QAAP,KAAoB,QAAzC,IAAqD,MAAM,CAAC,cAAP,CAAsB,QAAtB,MAAoC,YAAY,CAAC,SAAvG,IACA,iBAAiB,CAAC,GAAlB,CAA2B,QAA3B,CAFJ;AAIH;;AAjBoB,GAAzB;AAmBH,CAzBM","sourceRoot":"","sourcesContent":["const DEFAULT_OPTIONS = {\n    disableNormalization: false\n};\nexport const createPeriodicWaveConstructor = (createNativePeriodicWave, getNativeContext, periodicWaveStore, sanitizePeriodicWaveOptions) => {\n    return class PeriodicWave {\n        constructor(context, options) {\n            const nativeContext = getNativeContext(context);\n            const mergedOptions = sanitizePeriodicWaveOptions({ ...DEFAULT_OPTIONS, ...options });\n            const periodicWave = createNativePeriodicWave(nativeContext, mergedOptions);\n            periodicWaveStore.add(periodicWave);\n            // This does violate all good pratices but it is used here to simplify the handling of periodic waves.\n            return periodicWave;\n        }\n        static [Symbol.hasInstance](instance) {\n            return ((instance !== null && typeof instance === 'object' && Object.getPrototypeOf(instance) === PeriodicWave.prototype) ||\n                periodicWaveStore.has(instance));\n        }\n    };\n};\n//# sourceMappingURL=periodic-wave-constructor.js.map"]},"metadata":{},"sourceType":"module"}